<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cat Interaction Game</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        position: relative;
      }

      body::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("backgroundImage.png") no-repeat center center;
        background-size: cover;
        opacity: 0.8;
        z-index: -1;
      }

      .container {
        position: relative;
        width: 100vw;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
      }

      .gauges {
        position: absolute;
        top: 10px;
        left: 10px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        background-color: rgba(1, 1, 1, 0.2);
      }

      .gauge {
        display: flex;
        flex-direction: column;
        width: 200px;
      }

      .gauge label {
        color: white;
        font-size: 14px;
        margin-bottom: 4px;
      }

      .bar {
        height: 10px;
        background: lightgray;
        border-radius: 5px;
        overflow: hidden;
        position: relative;
      }

      /* ê²Œì´ì§€ ìƒ‰ìƒ ì„¤ì •ì„ JavaScriptë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ê¸°ë³¸ ì„¤ì • ì—†ìŒ */
      #hunger-bar,
      #happiness-bar,
      #cleanliness-bar {
        position: relative;
        background: lightgray;
        border-radius: 5px;
      }

      .cat-area {
        position: relative;
        margin-top: 600px;
      }

      .cat {
        width: 350px;
        height: auto;
      }

      .items {
        margin-left: 1400px;
        margin-bottom: 100px;
        display: flex;
        align-items: flex-end;
        justify-content: flex-end;
        bottom: 60px;
        right: 20px;
      }

      .item {
        width: 60px;
        height: 60px;
        margin-left: 10px;
        background: #fff;
        border: 2px solid #ccc;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
        cursor: grab;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- ê²Œì´ì§€ -->
      <div class="gauges">
        <div class="gauge">
          <label>ë°°ê³ í””</label>
          <div class="bar" id="hunger-bar" style="width: 0%"></div>
        </div>
        <div class="gauge">
          <label>í–‰ë³µê°</label>
          <div class="bar" id="happiness-bar" style="width: 0%"></div>
        </div>
        <div class="gauge">
          <label>ì²­ê²°ë„</label>
          <div class="bar" id="cleanliness-bar" style="width: 0%"></div>
        </div>
      </div>

      <!-- ê³ ì–‘ì´ -->
      <div class="cat-area" id="cat">
        <img src="cat.png" alt="Cat" class="cat" />
      </div>

      <!-- ë“œë˜ê·¸ ê°€ëŠ¥í•œ ì•„ì´í…œ -->
      <div class="items">
        <div class="item" id="food" draggable="true">ğŸ–</div>
        <div class="item" id="pet" draggable="true">ğŸ–ï¸</div>
        <div class="item" id="clean" draggable="true">ğŸ§¹</div>
      </div>
    </div>

    <script>
      // ê²Œì´ì§€ì™€ ì•„ì´í…œ, ê³ ì–‘ì´ ì„ íƒ
      const hungerBar = document.getElementById("hunger-bar");
      const happinessBar = document.getElementById("happiness-bar");
      const cleanlinessBar = document.getElementById("cleanliness-bar");
      const cat = document.getElementById("cat");
      const items = document.querySelectorAll(".item");

      // ë“œë˜ê·¸ ì‹œì‘ ì´ë²¤íŠ¸
      items.forEach((item) => {
        item.addEventListener("dragstart", (e) => {
          e.dataTransfer.setData("item-id", e.target.id);
        });
      });

      // ê³ ì–‘ì´ ë“œë¡­ ì˜ì—­ ì´ë²¤íŠ¸
      cat.addEventListener("dragover", (e) => {
        e.preventDefault(); // ë“œë¡­ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
      });

      cat.addEventListener("drop", (e) => {
        e.preventDefault();
        const itemId = e.dataTransfer.getData("item-id");

        // ê° ì•„ì´í…œì˜ ë™ì‘ ì²˜ë¦¬
        switch (itemId) {
          case "food":
            updateGauge(hungerBar, 20, "ë°°ê³ í””", "orange");
            break;
          case "pet":
            updateGauge(happinessBar, 20, "í–‰ë³µê°", "yellow");
            break;
          case "clean":
            updateGauge(cleanlinessBar, 20, "ì²­ê²°ë„", "blue");
            break;
          default:
            alert("ì•Œ ìˆ˜ ì—†ëŠ” ë™ì‘ì…ë‹ˆë‹¤.");
        }
      });

      // ê²Œì´ì§€ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
      function updateGauge(bar, amount, type, color) {
        const currentWidth = parseInt(bar.style.width || "0");
        const newWidth = Math.min(100, currentWidth + amount); // ìµœëŒ€ 100ê¹Œì§€ ì œí•œ

        // ê²Œì´ì§€ ìƒ‰ìƒê³¼ ë„ˆë¹„ ì—…ë°ì´íŠ¸
        bar.style.width = newWidth + "%";
        bar.style.backgroundColor = color;

        // ê²Œì´ì§€ê°€ ì™„ì „íˆ ì±„ì›Œì¡Œì„ ë•Œ ì•Œë¦¼ í‘œì‹œ
        if (newWidth === 100) {
          setTimeout(() => alert(`${type} ê²Œì´ì§€ê°€ ê°€ë“ ì°¼ì–´ìš”!`), 100);
        }
      }
    </script>
  </body>
</html>
